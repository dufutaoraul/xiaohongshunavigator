# 小红书AI灵感领航员 - 完整配置指南

## 📋 项目现状
✅ 网站框架已完成  
✅ 前端页面已完成  
✅ API接口已完成  
❌ 数据库需要配置  
❌ AI服务需要配置  

---

## 🎯 第一步：配置Supabase数据库

### 任务描述：
我需要创建一个数据库来存储学员信息和打卡记录。

### 请教AI的问题：
```
我要创建一个Supabase数据库项目，请教我：

1. 如何注册Supabase账号并创建新项目
2. 如何创建以下两个数据表：

表1：users（学员信息表）
- id: uuid类型，主键
- student_id: text类型，唯一，学员学号如'AXCF2025040088'
- created_at: timestampz类型，创建时间
- persona: text类型，学员人设定位
- keywords: text类型，内容关键词（逗号分隔）
- vision: text类型，90天愿景

表2：punch_cards（打卡记录表）
- id: uuid类型，主键
- user_id: uuid类型，外键关联users表的id
- submitted_at: timestampz类型，提交时间
- post_url: text类型，唯一，小红书帖子链接
- post_created_at: timestampz类型，帖子发布时间
- likes: integer类型，点赞数
- comments: integer类型，评论数
- collections: integer类型，收藏数

3. 如何获取项目的URL和API密钥
4. 如何设置表的权限（允许读写）
```

### 我做好后要告诉Claude的信息：
- Supabase项目URL：`https://xxx.supabase.co`
- Supabase Anon Key：`eyJxxx...`
- 确认两个表都创建成功

---

## 🎯 第二步：配置Dify AI工作流

### 任务描述：
我需要创建一个AI工作流，根据学员的个人信息生成小红书内容。

### 请教AI的问题：
```
我要在Dify平台创建一个AI内容生成工作流，请教我：

1. 如何注册Dify账号并创建工作流
2. 如何设计一个工作流，包含以下输入变量：
   - persona: 用户人设（如："专注AI变现的90后宝妈创业者"）
   - keywords: 内容关键词（如："AI工具使用,副业赚钱,时间管理"）
   - vision: 90天愿景（如："成为AI变现领域的KOL，粉丝过万"）
   - user_input: 今日主题（如："学会了ChatGPT做思维导图"）
   - angle: 分享角度（如："efficiency"表示效率提升）

3. 工作流需要两个步骤：
   第一步：生成小红书文案（200-300字，包含标题、要点、标签）
   第二步：根据文案生成配图建议

4. 工作流输出格式：
   {
     "content": "生成的文案内容",
     "visual_suggestions": "配图建议"
   }

5. 如何获取工作流的API调用信息（URL和API密钥）
6. 如何测试工作流是否正常工作
```

### 我做好后要告诉Claude的信息：
- Dify工作流API URL：`https://api.dify.ai/v1/workflows/xxx`
- Dify API Key：`app-xxx`
- 工作流ID：`xxx`
- 测试成功的示例输入和输出

---

## 🎯 第三步：配置N8N工作流编排器

### 任务描述：
N8N作为中间层，接收网站请求，调用Dify，然后返回结果给网站。

### 请教AI的问题：
```
我要设置N8N工作流编排器，请教我：

1. 如何安装和启动N8N（本地或云端）
2. 如何创建两个工作流：

工作流1：内容生成工作流
- 创建一个Webhook节点，接收POST请求
- 接收的数据格式：{"student_id": "学号", "user_input": "主题", "angle": "角度", "user_data": {"persona": "...", "keywords": "...", "vision": "..."}}
- 添加HTTP请求节点，调用Dify API
- 返回生成的内容

工作流2：打卡处理工作流
- 创建一个Webhook节点，接收POST请求
- 接收的数据格式：{"student_id": "学号", "post_url": "小红书链接", "user_id": "用户ID"}
- 验证链接格式
- 返回处理结果（现阶段可以返回模拟数据）

3. 如何获取这两个工作流的Webhook URL
4. 如何测试工作流是否正常运行
```

### 我做好后要告诉Claude的信息：
- N8N内容生成Webhook URL：`https://xxx.app.n8n.cloud/webhook/xxx`
- N8N打卡处理Webhook URL：`https://xxx.app.n8n.cloud/webhook/xxx`
- 确认两个工作流都测试通过

---

## 🎯 第四步：导入学员数据

### 任务描述：
如果你已经有学员数据，需要导入到Supabase数据库中。

### 请教AI的问题：
```
我的Supabase数据库已经建好了，现在我要导入学员数据，请教我：

1. 如果我有Excel文件的学员数据，如何转换成SQL插入语句
2. 如何在Supabase的SQL编辑器中批量插入数据
3. 数据格式是这样的：
   学号 | 姓名 | 人设定位 | 内容关键词 | 90天愿景
   
4. 如何验证数据导入是否成功
5. 如果数据有问题，如何修改或删除

我的数据表结构是：
- student_id: 学员学号
- persona: 人设定位  
- keywords: 内容关键词
- vision: 90天愿景
```

### 我做好后要告诉Claude的信息：
- 确认学员数据已成功导入
- 数据库中有多少条学员记录
- 提供几个测试用的学号

---

## 🎯 第五步：环境变量配置

### 当你完成前面4步后，把这些信息告诉我：

```
Claude，我已经配置好所有服务了，信息如下：

## Supabase数据库
- 项目URL：https://xxx.supabase.co
- Anon Key：eyJxxx...
- Service Role Key：eyJxxx...（如果有的话）
- 确认：users表和punch_cards表都创建成功

## Dify AI工作流
- API URL：https://api.dify.ai/v1/workflows/run
- API Key：app-xxx
- 工作流ID：xxx
- 测试确认：工作流可以正常生成内容

## N8N工作流
- 内容生成Webhook：https://xxx.app.n8n.cloud/webhook/generate
- 打卡处理Webhook：https://xxx.app.n8n.cloud/webhook/punch
- API Key：xxx（如果有的话）
- 测试确认：两个工作流都正常运行

## 学员数据
- 已导入学员数量：XX人
- 测试学号：AXCF2025040001, AXCF2025040002

请帮我更新网站的环境变量配置。
```

---

## 🎯 第六步：我来帮你连接一切

当你提供了上面的信息后，我会：

1. **更新环境变量**：把真实的URL和密钥配置到网站中
2. **测试连接**：验证网站能正确调用所有服务
3. **调试问题**：如果有问题，我会帮你排查和修复
4. **完善功能**：根据实际使用情况优化界面和功能

---

## 📝 重要提醒

1. **先测试再配置**：每个服务都要单独测试成功后再连接到网站
2. **保存所有密钥**：所有的URL和API密钥都要记录好
3. **分步进行**：不要一次性配置所有东西，一步一步来
4. **遇到问题及时沟通**：任何步骤有问题都可以问我

## 🚀 最终效果

配置完成后，网站将实现：
- ✅ 学员可以查询和修改个人信息
- ✅ 基于个人设定生成专属小红书内容
- ✅ 提交小红书链接进行打卡
- ✅ 查看打卡日历和统计数据
- ✅ 所有数据实时同步到数据库

好了，你可以把这个指南给另一个AI，让它一步步教你配置。每完成一步都来告诉我进展！